// let data = [
//     {
//         "date": "2014-02-01",
//         "value": 15000000
//     },
//     {
//         "date": "2014-02-02",
//         "value": 16487625
//     },
//     {
//         "date": "2014-02-03",
//         "value": 17097434
//     },
//     {
//         "date": "2014-02-04",
//         "value": 17694420
//     },
//     {
//         "date": "2014-02-05",
//         "value": 17014381
//     },
//     {
//         "date": "2014-02-06",
//         "value": 15578984
//     },
//     {
//         "date": "2014-02-07",
//         "value": 14718953
//     },
//     {
//         "date": "2014-02-08",
//         "value": 15020669
//     },
//     {
//         "date": "2014-02-09",
//         "value": 13889722
//     },
//     {
//         "date": "2014-02-10",
//         "value": 13979897
//     },
//     {
//         "date": "2014-02-11",
//         "value": 14595566
//     },
//     {
//         "date": "2014-02-12",
//         "value": 14123256
//     },
//     {
//         "date": "2014-02-13",
//         "value": 14083675
//     },
//     {
//         "date": "2014-02-14",
//         "value": 15068426
//     },
//     {
//         "date": "2014-02-15",
//         "value": 15368056
//     },
//     {
//         "date": "2014-02-16",
//         "value": 15277054
//     },
//     {
//         "date": "2014-02-17",
//         "value": 14376243
//     },
//     {
//         "date": "2014-02-18",
//         "value": 13058892
//     },
//     {
//         "date": "2014-02-19",
//         "value": 12367653
//     },
//     {
//         "date": "2014-02-20",
//         "value": 13184423
//     },
//     {
//         "date": "2014-02-21",
//         "value": 14367203
//     },
//     {
//         "date": "2014-02-22",
//         "value": 14656447
//     },
//     {
//         "date": "2014-02-23",
//         "value": 14724526
//     },
//     {
//         "date": "2014-02-24",
//         "value": 14938129
//     },
//     {
//         "date": "2014-02-25",
//         "value": 14205617
//     },
//     {
//         "date": "2014-02-26",
//         "value": 14596607
//     },
//     {
//         "date": "2014-02-27",
//         "value": 13982597
//     },
//     {
//         "date": "2014-02-28",
//         "value": 15107034
//     },
//     {
//         "date": "2014-03-01",
//         "value": 13646739
//     },
//     {
//         "date": "2014-03-02",
//         "value": 14214763
//     },
//     {
//         "date": "2014-03-03",
//         "value": 14952136
//     },
//     {
//         "date": "2014-03-04",
//         "value": 14643933
//     },
//     {
//         "date": "2014-03-05",
//         "value": 13611435
//     },
//     {
//         "date": "2014-03-06",
//         "value": 12569788
//     },
//     {
//         "date": "2014-03-07",
//         "value": 11344469
//     },
//     {
//         "date": "2014-03-08",
//         "value": 12687132
//     },
//     {
//         "date": "2014-03-09",
//         "value": 11831144
//     },
//     {
//         "date": "2014-03-10",
//         "value": 10480837
//     },
//     {
//         "date": "2014-03-11",
//         "value": 9051161
//     },
//     {
//         "date": "2014-03-12",
//         "value": 9964784
//     },
//     {
//         "date": "2014-03-13",
//         "value": 11035006
//     },
//     {
//         "date": "2014-03-14",
//         "value": 10081289
//     },
//     {
//         "date": "2014-03-15",
//         "value": 9793897
//     },
//     {
//         "date": "2014-03-16",
//         "value": 9177447
//     },
//     {
//         "date": "2014-03-17",
//         "value": 8035348
//     },
//     {
//         "date": "2014-03-18",
//         "value": 6770242
//     },
//     {
//         "date": "2014-03-19",
//         "value": 7272077
//     },
//     {
//         "date": "2014-03-20",
//         "value": 8216348
//     },
//     {
//         "date": "2014-03-21",
//         "value": 8576584
//     },
//     {
//         "date": "2014-03-22",
//         "value": 9421060
//     },
//     {
//         "date": "2014-03-23",
//         "value": 10872288
//     },
//     {
//         "date": "2014-03-24",
//         "value": 9537996
//     },
//     {
//         "date": "2014-03-25",
//         "value": 9560363
//     },
//     {
//         "date": "2014-03-26",
//         "value": 8182813
//     },
//     {
//         "date": "2014-03-27",
//         "value": 9068173
//     },
//     {
//         "date": "2014-03-28",
//         "value": 10390251
//     },
//     {
//         "date": "2014-03-29",
//         "value": 9714081
//     },
//     {
//         "date": "2014-03-30",
//         "value": 9994670
//     },
//     {
//         "date": "2014-03-31",
//         "value": 9317878
//     },
//     {
//         "date": "2014-04-01",
//         "value": 8209077
//     },
//     {
//         "date": "2014-04-02",
//         "value": 9230830
//     },
//     {
//         "date": "2014-04-03",
//         "value": 8978342
//     },
//     {
//         "date": "2014-04-04",
//         "value": 8361854
//     },
//     {
//         "date": "2014-04-05",
//         "value": 9345999
//     },
//     {
//         "date": "2014-04-06",
//         "value": 7965407
//     },
//     {
//         "date": "2014-04-07",
//         "value": 8909276
//     },
//     {
//         "date": "2014-04-08",
//         "value": 8935489
//     },
//     {
//         "date": "2014-04-09",
//         "value": 8634997
//     },
//     {
//         "date": "2014-04-10",
//         "value": 8795592
//     },
//     {
//         "date": "2014-04-11",
//         "value": 7513086
//     },
//     {
//         "date": "2014-04-12",
//         "value": 8408561
//     },
//     {
//         "date": "2014-04-13",
//         "value": 7780649
//     },
//     {
//         "date": "2014-04-14",
//         "value": 7524281
//     },
//     {
//         "date": "2014-04-15",
//         "value": 8498062
//     },
//     {
//         "date": "2014-04-16",
//         "value": 7922453
//     },
//     {
//         "date": "2014-04-17",
//         "value": 9304312
//     },
//     {
//         "date": "2014-04-18",
//         "value": 8199457
//     },
//     {
//         "date": "2014-04-19",
//         "value": 8926136
//     },
//     {
//         "date": "2014-04-20",
//         "value": 7558184
//     },
//     {
//         "date": "2014-04-21",
//         "value": 6417511
//     },
//     {
//         "date": "2014-04-22",
//         "value": 5748831
//     },
//     {
//         "date": "2014-04-23",
//         "value": 6503022
//     },
//     {
//         "date": "2014-04-24",
//         "value": 6429606
//     },
//     {
//         "date": "2014-04-25",
//         "value": 5057410
//     },
//     {
//         "date": "2014-04-26",
//         "value": 5924669
//     },
//     {
//         "date": "2014-04-27",
//         "value": 4728239
//     },
//     {
//         "date": "2014-04-28",
//         "value": 3918540
//     },
//     {
//         "date": "2014-04-29",
//         "value": 2821473
//     },
//     {
//         "date": "2014-04-30",
//         "value": 1995781
//     },
//     {
//         "date": "2014-05-01",
//         "value": 1123626
//     },
//     {
//         "date": "2014-05-02",
//         "value": 516067
//     },
//     {
//         "date": "2014-05-03",
//         "value": 816831
//     },
//     {
//         "date": "2014-05-04",
//         "value": 816831
//     },
//     {
//         "date": "2014-05-05",
//         "value": 816831
//     },
//     {
//         "date": "2014-05-06",
//         "value": 1103818
//     },
//     {
//         "date": "2014-05-07",
//         "value": 958188
//     },
//     {
//         "date": "2014-05-08",
//         "value": 592995
//     },
//     {
//         "date": "2014-05-09",
//         "value": 856066
//     },
//     {
//         "date": "2014-05-10",
//         "value": 1766761
//     },
//     {
//         "date": "2014-05-11",
//         "value": 1330557
//     }
// ]

let data = [{"date":"2021-01-02 02:01:05","value":-61.53846},{"date":"2021-01-02 02:01:15","value":-62.72189},{"date":"2021-01-02 02:01:25","value":-63.31361},{"date":"2021-01-02 02:01:35","value":-63.31361},{"date":"2021-01-02 02:01:45","value":-61.53846},{"date":"2021-01-02 02:01:55","value":-62.72189},{"date":"2021-01-02 02:02:05","value":-63.31361},{"date":"2021-01-02 01:50:55","value":-1.183432},{"date":"2021-01-02 01:51:05","value":-4.733728},{"date":"2021-01-02 01:51:15","value":-5.325444},{"date":"2021-01-02 01:51:25","value":-1.183432},{"date":"2021-01-02 01:51:35","value":-2.366864},{"date":"2021-01-02 01:51:45","value":-2.366864},{"date":"2021-01-02 01:51:55","value":-4.142012},{"date":"2021-01-02 01:52:05","value":-4.142012},{"date":"2021-01-02 01:52:15","value":-2.366864},{"date":"2021-01-02 01:52:25","value":-4.142012},{"date":"2021-01-02 01:52:35","value":-4.142012},{"date":"2021-01-02 01:52:45","value":-5.325444},{"date":"2021-01-02 01:52:55","value":-5.91716},{"date":"2021-01-02 01:53:05","value":-4.733728},{"date":"2021-01-02 01:53:15","value":-4.733728},{"date":"2021-01-02 01:53:25","value":-4.733728},{"date":"2021-01-02 01:53:35","value":-4.733728},{"date":"2021-01-02 01:53:45","value":-4.733728},{"date":"2021-01-02 01:53:55","value":-3.550296},{"date":"2021-01-02 01:54:05","value":-6.508876},{"date":"2021-01-02 01:54:15","value":1.775148},{"date":"2021-01-02 01:54:25","value":-62.72189},{"date":"2021-01-02 01:54:35","value":-61.53846},{"date":"2021-01-02 01:54:45","value":-63.31361},{"date":"2021-01-02 01:54:55","value":-63.31361},{"date":"2021-01-02 01:55:05","value":-63.31361},{"date":"2021-01-02 01:55:15","value":-63.31361},{"date":"2021-01-02 01:55:25","value":-61.53846},{"date":"2021-01-02 01:55:35","value":-63.90533},{"date":"2021-01-02 01:55:45","value":-63.31361},{"date":"2021-01-02 01:55:55","value":-62.13018},{"date":"2021-01-02 01:56:05","value":-63.31361},{"date":"2021-01-02 01:56:15","value":-63.90533},{"date":"2021-01-02 01:56:25","value":-63.90533},{"date":"2021-01-02 01:56:35","value":-62.72189},{"date":"2021-01-02 01:56:45","value":-62.13018},{"date":"2021-01-02 01:56:55","value":-62.13018},{"date":"2021-01-02 01:57:05","value":-62.13018},{"date":"2021-01-02 01:57:15","value":-63.31361},{"date":"2021-01-02 01:57:25","value":-63.31361},{"date":"2021-01-02 01:57:35","value":-63.31361},{"date":"2021-01-02 01:57:45","value":-62.72189},{"date":"2021-01-02 01:57:55","value":-63.90533},{"date":"2021-01-02 01:58:05","value":-61.53846},{"date":"2021-01-02 01:58:15","value":-63.31361},{"date":"2021-01-02 01:58:25","value":-63.31361},{"date":"2021-01-02 01:58:35","value":-63.31361},{"date":"2021-01-02 01:58:45","value":-62.72189},{"date":"2021-01-02 01:58:55","value":-62.72189},{"date":"2021-01-02 01:59:05","value":-62.72189},{"date":"2021-01-02 01:59:15","value":-62.72189},{"date":"2021-01-02 01:59:25","value":-63.31361},{"date":"2021-01-02 01:59:35","value":-64.49704},{"date":"2021-01-02 01:59:45","value":-62.13018},{"date":"2021-01-02 01:59:55","value":-63.90533},{"date":"2021-01-02 02:00:05","value":-63.31361},{"date":"2021-01-02 02:00:15","value":-62.72189},{"date":"2021-01-02 02:00:25","value":-61.53846},{"date":"2021-01-02 02:00:35","value":-63.31361},{"date":"2021-01-02 02:00:45","value":-63.90533},{"date":"2021-01-02 02:00:55","value":-63.90533}]
data = MG.convert.date(data, 'date', "%Y-%m-%d %H:%M:%S");

const globals = {
    width: 600,
    height: 200
};

let charts = {
    distance: {
        data: data,
        // linked: true,
        width: globals.width,
        height: globals.height,
        full_width: true,
        right: 40,
        xax_count: 4,
        brush: 'x',
        target: '#chart-distance',
        legend: ['Distance'],
        legend_target: '#legend-distance'
    },
    temperature: {
        data: data,
        // linked: true,
        width: globals.width,
        height: globals.height,
        full_width: true,
        color: 'green',
        right: 40,
        xax_count: 4,
        brush: 'x',
        target: '#chart-temperature',
        legend: ['Temperature'],
        legend_target: '#legend-temperature'
    },
    humidity: {
        data: data,
        // linked: true,
        width: globals.width,
        height: globals.height,
        full_width: true,
        color: 'red',
        right: 40,
        xax_count: 4,
        brush: 'x',
        target: '#chart-humidity',
        legend: ['Humidity'],
        legend_target: '#legend-humidity'
    }
}

const mg_distance = MG.data_graphic(charts.distance);
// MG.data_graphic(mg_distance);
MG.data_graphic(charts.temperature);
// MG.data_graphic(mg_distance);
MG.data_graphic(charts.humidity);

var inputSession = document.getElementById("inputSessionId");
inputSession.addEventListener("change", getData);

function getData() {
    console.log(inputSession.value)

    let data = {
        sessionId: inputSession.value
    }

    $.post("/get_data", data)
        .done(function(data){
            console.log(data)

            charts.distance.data = MG.convert.date(JSON.parse(data.risepercent), 'date', "%Y-%m-%d %H:%M:%S");
            charts.humidity.data = MG.convert.date(JSON.parse(data.humidity), 'date', "%Y-%m-%d %H:%M:%S");
            charts.temperature.data = MG.convert.date(JSON.parse(data.temperature), 'date', "%Y-%m-%d %H:%M:%S");

            MG.data_graphic(charts.distance)
            MG.data_graphic(charts.temperature)
            MG.data_graphic(charts.humidity)
    })
}
